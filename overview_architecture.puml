@startuml
' Generated by SASVA Maria on 2025-11-21T10:41:49.997Z

!theme plain
skinparam componentStyle rectangle
skinparam backgroundColor #FAFAFA
skinparam packageBackgroundColor #F5F5F5
skinparam componentBackgroundColor #E3F4F8

package "External Layer" #E3F4F8 {
  [Web Browser\n(HTTP Client)] #D1E8F0
  [Mobile App\n(API Client)] #D1E8F0
  [Third-party Services] #D1E8F0
}

package "Web Server Layer" #F5F5F5 {
  [Kestrel Web Server] #EEEEEE
  [IIS Integration\n(Windows)] #EEEEEE <<optional>>
  [Reverse Proxy\n(nginx/Apache)] #EEEEEE <<optional>>
}

package "ASP.NET Core Pipeline" #FFF3E0 {
  [HTTP Request Entry] #FFE0B2
  [Middleware Pipeline] #FFE0B2
  [Routing Engine] #FFE0B2
  [Endpoint Mapping] #FFE0B2
  [Response Pipeline] #FFE0B2
}

package "Application Core (3 files, 29 LOC)" #E8F5E9 {
  [Program.cs\n(Entry Point)] #C8E6C9
  [Startup Configuration] #C8E6C9
  [Service Registration\n(DI Container)] #C8E6C9
  [Host Builder] #C8E6C9
}

package "Configuration Layer" #F3E5F5 {
  [appsettings.json] #E1BEE7 <<potential>>
  [Environment Variables] #E1BEE7
  [User Secrets] #E1BEE7 <<potential>>
  [Configuration Provider] #E1BEE7
}

package "API Layer" #E3F4F8 <<potential>> {
  [REST Controllers] #D1E8F0 <<potential>>
  [Minimal API Endpoints] #D1E8F0 <<potential>>
  [Request Models/DTOs] #D1E8F0 <<potential>>
  [Response Models] #D1E8F0 <<potential>>
  [API Versioning] #D1E8F0 <<potential>>
}

package "Business Logic Layer" #FFF3E0 <<potential>> {
  [Service Classes] #FFE0B2 <<potential>>
  [Business Rules Engine] #FFE0B2 <<potential>>
  [Validation Logic] #FFE0B2 <<potential>>
  [Domain Models] #FFE0B2 <<potential>>
  [Application Services] #FFE0B2 <<potential>>
}

package "Data Access Layer" #E8F5E9 <<potential>> {
  [Repository Pattern] #C8E6C9 <<potential>>
  [Entity Framework Core] #C8E6C9 <<potential>>
  [DbContext] #C8E6C9 <<potential>>
  [Data Models/Entities] #C8E6C9 <<potential>>
  [Database Migrations] #C8E6C9 <<potential>>
}

package "Cross-Cutting Concerns" #F3E5F5 {
  [Logging Infrastructure] #E1BEE7
  [Exception Handling] #E1BEE7 <<potential>>
  [Authentication] #E1BEE7 <<potential>>
  [Authorization] #E1BEE7 <<potential>>
  [CORS Configuration] #E1BEE7 <<potential>>
  [Health Checks] #E1BEE7 <<potential>>
  [Caching] #E1BEE7 <<potential>>
}

database "Data Storage" #F5F5F5 <<potential>> {
  [SQL Database] #EEEEEE <<potential>>
  [NoSQL Store] #EEEEEE <<potential>>
  [Cache Store] #EEEEEE <<potential>>
}

cloud "External Services" #E3F4F8 <<potential>> {
  [Authentication Provider] #D1E8F0 <<potential>>
  [Email Service] #D1E8F0 <<potential>>
  [Storage Service] #D1E8F0 <<potential>>
  [Message Queue] #D1E8F0 <<potential>>
}

' Current connections (solid lines)
[Web Browser\n(HTTP Client)] --> [Kestrel Web Server] : HTTP/HTTPS
[Mobile App\n(API Client)] --> [Kestrel Web Server] : HTTP/HTTPS
[Kestrel Web Server] --> [HTTP Request Entry] : forwards
[HTTP Request Entry] --> [Middleware Pipeline] : processes
[Middleware Pipeline] --> [Routing Engine] : routes
[Routing Engine] --> [Endpoint Mapping] : maps
[Endpoint Mapping] --> [Response Pipeline] : generates
[Response Pipeline] --> [Kestrel Web Server] : returns

[Program.cs\n(Entry Point)] --> [Host Builder] : creates
[Host Builder] --> [Startup Configuration] : configures
[Startup Configuration] --> [Service Registration\n(DI Container)] : registers
[Service Registration\n(DI Container)] --> [Middleware Pipeline] : provides services

[Configuration Provider] --> [Program.cs\n(Entry Point)] : loads settings
[Environment Variables] --> [Configuration Provider] : provides config
[Logging Infrastructure] --> [Middleware Pipeline] : logs requests

' Potential connections (dashed lines)
[Endpoint Mapping] ..> [REST Controllers] : maps to
[Endpoint Mapping] ..> [Minimal API Endpoints] : maps to
[REST Controllers] ..> [Service Classes] : uses
[Minimal API Endpoints] ..> [Service Classes] : uses
[Service Classes] ..> [Business Rules Engine] : applies
[Service Classes] ..> [Validation Logic] : validates
[Service Classes] ..> [Repository Pattern] : queries
[Repository Pattern] ..> [Entity Framework Core] : uses
[Entity Framework Core] ..> [DbContext] : manages
[DbContext] ..> [SQL Database] : connects

[Authentication] ..> [Authentication Provider] : validates with
[Service Classes] ..> [Email Service] : sends via
[Service Classes] ..> [Storage Service] : stores in
[Service Classes] ..> [Message Queue] : publishes to
[Caching] ..> [Cache Store] : stores in

[appsettings.json] ..> [Configuration Provider] : loads from
[User Secrets] ..> [Configuration Provider] : loads from
[Exception Handling] ..> [Logging Infrastructure] : logs errors
[Health Checks] ..> [Middleware Pipeline] : integrated in
[CORS Configuration] ..> [Middleware Pipeline] : applied in
[Authorization] ..> [REST Controllers] : secures
[Authorization] ..> [Minimal API Endpoints] : secures

note right of "Application Core (3 files, 29 LOC)"
  Current implementation:
  - Minimal ASP.NET Core setup
  - Modern .NET 6+ hosting model
  - Ready for expansion
end note

note bottom
  Legend:
  Solid boxes/lines = Currently implemented
  Dashed boxes/lines = Potential future components
  <<optional>> = Optional infrastructure components
  <<potential>> = Not yet implemented
end note

@enduml
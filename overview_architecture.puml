@startuml
' Generated by SASVA Maria on 2025-11-21T10:46:25.464Z

!theme plain
skinparam componentStyle rectangle
skinparam backgroundColor #FAFAFA
skinparam packageBackgroundColor #F5F5F5
skinparam componentBackgroundColor #E3F4F8

package "External Layer" #E8F5E9 {
  [Web Browsers] #C8E6C9
  [Mobile Apps] #C8E6C9
  [API Clients] #C8E6C9
}

package "Web Server Layer" #F3E5F5 {
  [Kestrel Web Server] #E1BEE7
  [IIS Integration\n(Optional)] #E1BEE7
}

package "ASP.NET Core Application" #FFF3E0 {
  
  package "Entry Point" #FFE0B2 {
    [Program.cs\n(1 file, ~10 LOC)] #FFCC80
    [Host Builder] #FFCC80
    [Service Registration] #FFCC80
  }
  
  package "Configuration Layer" #E3F4F8 {
    [appsettings.json\n(1 file, ~5 LOC)] #D1E8F0
    [appsettings.Development.json\n(1 file, ~5 LOC)] #D1E8F0
    [Environment Variables] #D1E8F0
    [User Secrets] #D1E8F0
  }
  
  package "Middleware Pipeline" #E8F5E9 {
    [Authentication Middleware] #C8E6C9
    [Authorization Middleware] #C8E6C9
    [Exception Handling] #C8E6C9
    [Static Files] #C8E6C9
    [Routing Engine] #C8E6C9
    [CORS Middleware] #C8E6C9
    [Request Logging] #C8E6C9
  }
  
  package "Application Services" #F3E5F5 {
    [DI Container] #E1BEE7
    [Logging Services] #E1BEE7
    [Configuration Services] #E1BEE7
    [HTTP Context] #E1BEE7
  }
  
  package "API Layer" #FFE0B2 {
    [Minimal API Endpoints] #FFCC80
    [Controllers\n(0 files, 0 LOC)] #FFCC80
    [Model Binding] #FFCC80
    [Action Filters] #FFCC80
    [Response Formatting] #FFCC80
  }
  
  package "Business Logic Layer" #E3F4F8 {
    [Business Services\n(Future)] #D1E8F0
    [Domain Models\n(Future)] #D1E8F0
    [Validation Logic\n(Future)] #D1E8F0
  }
  
  package "Data Access Layer" #E8F5E9 {
    [Repositories\n(Future)] #C8E6C9
    [Entity Framework Core\n(Future)] #C8E6C9
    [Data Models\n(Future)] #C8E6C9
  }
}

package "Infrastructure" #F5F5F5 {
  database "Database\n(Future)" as db #EEEEEE
  [External APIs\n(Future)] #EEEEEE
  [File Storage\n(Future)] #EEEEEE
}

' External connections
[Web Browsers] --> [Kestrel Web Server] : HTTP/HTTPS
[Mobile Apps] --> [Kestrel Web Server] : HTTP/HTTPS
[API Clients] --> [Kestrel Web Server] : HTTP/HTTPS

' Server to application
[Kestrel Web Server] --> [Program.cs\n(1 file, ~10 LOC)] : Hosts
[IIS Integration\n(Optional)] --> [Kestrel Web Server] : Reverse Proxy

' Program initialization
[Program.cs\n(1 file, ~10 LOC)] --> [Host Builder] : Creates
[Host Builder] --> [Service Registration] : Configures
[Service Registration] --> [DI Container] : Registers

' Configuration flow
[Program.cs\n(1 file, ~10 LOC)] --> [appsettings.json\n(1 file, ~5 LOC)] : Loads
[Program.cs\n(1 file, ~10 LOC)] --> [appsettings.Development.json\n(1 file, ~5 LOC)] : Loads
[Program.cs\n(1 file, ~10 LOC)] --> [Environment Variables] : Reads
[Configuration Services] --> [appsettings.json\n(1 file, ~5 LOC)] : Manages
[Configuration Services] --> [Environment Variables] : Manages

' Middleware pipeline flow
[Program.cs\n(1 file, ~10 LOC)] --> [Authentication Middleware] : Configures
[Authentication Middleware] --> [Authorization Middleware] : Next
[Authorization Middleware] --> [Exception Handling] : Next
[Exception Handling] --> [Static Files] : Next
[Static Files] --> [Routing Engine] : Next
[Routing Engine] --> [CORS Middleware] : Next
[CORS Middleware] --> [Request Logging] : Next

' Request processing
[Routing Engine] --> [Minimal API Endpoints] : Routes to
[Routing Engine] --> [Controllers\n(0 files, 0 LOC)] : Routes to
[Minimal API Endpoints] --> [Model Binding] : Uses
[Controllers\n(0 files, 0 LOC)] --> [Action Filters] : Uses
[Minimal API Endpoints] --> [Response Formatting] : Uses

' Service dependencies
[Minimal API Endpoints] --> [DI Container] : Resolves
[Controllers\n(0 files, 0 LOC)] --> [DI Container] : Resolves
[DI Container] --> [Logging Services] : Provides
[DI Container] --> [Configuration Services] : Provides
[DI Container] --> [HTTP Context] : Provides

' Future connections
[Minimal API Endpoints] ..> [Business Services\n(Future)] : Will call
[Business Services\n(Future)] ..> [Repositories\n(Future)] : Will use
[Repositories\n(Future)] ..> [Entity Framework Core\n(Future)] : Will use
[Entity Framework Core\n(Future)] ..> db : Will query
[Business Services\n(Future)] ..> [External APIs\n(Future)] : May call
[Business Services\n(Future)] ..> [File Storage\n(Future)] : May use

note right of [Program.cs\n(1 file, ~10 LOC)]
  Total Project:
  4 files, 26 LOC
  Minimal ASP.NET Core
  Template
end note

@enduml